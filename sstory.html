<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Status Clone</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

        :root {
            --bg-color: #000;
            --text-color: #fff;
            --progress-bar-bg: #555;
            --progress-bar-fill: #fff;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            flex-direction: column;
        }

        .status-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .status-card {
            width: 100%;
            height: 100%;
            position: absolute;
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            border-radius: 10px;
        }

        .status-card.active {
            opacity: 1;
        }

        .progress-bar-container {
            display: flex;
            padding: 5px;
            gap: 4px;
            width: 95%;
            margin: 10px auto 0;
        }

        .progress-bar {
            height: 3px;
            background-color: var(--progress-bar-bg);
            border-radius: 2px;
            overflow: hidden;
            flex-grow: 1;
        }

        .progress-bar .progress {
            height: 100%;
            width: 0;
            background-color: var(--progress-bar-fill);
        }

        .user-info {
            display: flex;
            align-items: center;
            padding: 10px;
            gap: 10px;
        }

        .user-info .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--text-color);
        }

        .user-details {
            display: flex;
            flex-direction: column;
        }

        .user-details .username {
            font-weight: 600;
        }

        .user-details .timestamp {
            font-size: 0.8em;
            color: #ccc;
        }

        .status-content {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0; /* Remove padding to let image fill */
            font-size: 1.5em;
            font-weight: 600;
            overflow: hidden; /* Ensure image doesn't overflow */
        }

        .status-content img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Cover the entire content area */
            display: block;
        }

        .navigation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            z-index: 10;
        }

        .nav-zone {
            flex-grow: 1;
            height: 100%;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        .nav-zone.left {
            width: 30%; /* Left tap area */
        }

        .nav-zone.right {
            width: 70%; /* Right tap area */
        }

        @media (min-width: 600px) {
            .status-container {
                width: 375px;
                height: 667px;
                border-radius: 10px;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            }
        }
    </style>
</head>
<body>

    <div class="status-container">
        <div class="status-card" data-user="emily">
            <div class="progress-bar-container">
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Emily">
                <div class="user-details">
                    <span class="username">Emily</span>
                    <span class="timestamp">Today at 12:30</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="michael" data-status-index="0">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Michael">
                <div class="user-details">
                    <span class="username">Michael</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="michael" data-status-index="1">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Michael">
                <div class="user-details">
                    <span class="username">Michael</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="michael" data-status-index="2">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Michael">
                <div class="user-details">
                    <span class="username">Michael</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="sarah" data-status-index="0">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Sarah">
                <div class="user-details">
                    <span class="username">Sarah</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="sarah" data-status-index="1">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Sarah">
                <div class="user-details">
                    <span class="username">Sarah</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="sarah" data-status-index="2">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Sarah">
                <div class="user-details">
                    <span class="username">Sarah</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>

        <div class="status-card" data-user="sarah" data-status-index="3">
            <div class="progress-bar-container">
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
                <div class="progress-bar"><div class="progress"></div></div>
            </div>
            <div class="user-info">
                <img class="profile-pic" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&h=400&fit=crop&crop=face" alt="Sarah">
                <div class="user-details">
                    <span class="username">Sarah</span>
                    <span class="timestamp">Just now</span>
                </div>
            </div>
            <div class="status-content">
                <img src="https://picsum.photos/id/1000/500/800" alt="Story Image">
            </div>
        </div>
        
        <div class="navigation">
            <div class="nav-zone left" onclick="prevStatus()"></div>
            <div class="nav-zone right" onclick="nextStatus()"></div>
        </div>
    </div>

<script>
    const statusCards = document.querySelectorAll('.status-card');
    let timer;
    const statusDuration = 5000; // 5 seconds
    
    // An array to map user stories. Each story has a duration and progress bars.
    const userStories = [
        { user: 'emily', statusCount: 1, currentStatus: 0, cards: document.querySelectorAll('[data-user="emily"]') },
        { user: 'michael', statusCount: 3, currentStatus: 0, cards: document.querySelectorAll('[data-user="michael"]') },
        { user: 'sarah', statusCount: 4, currentStatus: 0, cards: document.querySelectorAll('[data-user="sarah"]') }
    ];

    let currentStoryIndex = 0;

    function showStatus(storyIndex, statusIndex) {
        // Hide all status cards
        statusCards.forEach(card => card.classList.remove('active'));

        // Find the current story and its cards
        const currentStory = userStories[storyIndex];
        const currentCard = currentStory.cards[statusIndex];

        if (currentCard) {
            currentCard.classList.add('active');

            // Find all progress bars for the current user
            const progressBars = currentCard.querySelectorAll('.progress-bar');
            
            // Set up all progress bars without blinking
            progressBars.forEach((bar, i) => {
                const progress = bar.querySelector('.progress');
                progress.style.transition = 'none'; // Ensure no transition
                if (i < statusIndex) {
                    progress.style.width = '100%'; // Past statuses are full
                } else {
                    progress.style.width = '0%'; // Future statuses are empty
                }
            });

            // Animate the current progress bar
            if (progressBars[statusIndex]) {
                const currentProgress = progressBars[statusIndex].querySelector('.progress');
                // Use a small timeout to apply the transition to the current bar
                setTimeout(() => {
                    currentProgress.style.transition = `width ${statusDuration / 1000}s linear`;
                    currentProgress.style.width = '100%';
                }, 10);
            }

            // Set a timer to move to the next status
            clearTimeout(timer);
            timer = setTimeout(() => {
                nextStatus();
            }, statusDuration);
        }
    }

    function nextStatus() {
        const currentStory = userStories[currentStoryIndex];

        // Move to the next status within the current story
        if (currentStory.currentStatus < currentStory.statusCount - 1) {
            currentStory.currentStatus++;
            showStatus(currentStoryIndex, currentStory.currentStatus);
        } else {
            // Move to the next user story
            currentStoryIndex++;
            if (currentStoryIndex < userStories.length) {
                // Reset the new story's status counter
                userStories[currentStoryIndex].currentStatus = 0;
                showStatus(currentStoryIndex, 0);
            } else {
                // All stories are done, loop back to the beginning
                currentStoryIndex = 0;
                userStories.forEach(story => story.currentStatus = 0);
                showStatus(currentStoryIndex, 0);
            }
        }
    }

    function prevStatus() {
        const currentStory = userStories[currentStoryIndex];

        // Move to the previous status within the current story
        if (currentStory.currentStatus > 0) {
            currentStory.currentStatus--;
            showStatus(currentStoryIndex, currentStory.currentStatus);
        } else {
            // Move to the previous user story
            currentStoryIndex--;
            if (currentStoryIndex >= 0) {
                // Move to the last status of the previous story
                const prevStory = userStories[currentStoryIndex];
                prevStory.currentStatus = prevStory.statusCount - 1;
                showStatus(currentStoryIndex, prevStory.currentStatus);
            } else {
                // Loop back to the last story
                currentStoryIndex = userStories.length - 1;
                const prevStory = userStories[currentStoryIndex];
                prevStory.currentStatus = prevStory.statusCount - 1;
                showStatus(currentStoryIndex, prevStory.currentStatus);
            }
        }
    }

    // Start the first story
    showStatus(currentStoryIndex, 0);
</script>

</body>
</html>


